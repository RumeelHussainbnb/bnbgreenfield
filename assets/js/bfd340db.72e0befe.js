"use strict";(self.webpackChunkgreenfield_docs=self.webpackChunkgreenfield_docs||[]).push([[2584],{49727:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>d,toc:()=>s});var o=n(87462),a=(n(67294),n(3905));const r={title:"Interact with Greenfield",order:4},i="Interact with Greenfield",d={unversionedId:"guide/getting-started/interact-with-greenfield",id:"guide/getting-started/interact-with-greenfield",title:"Interact with Greenfield",description:"With tBNBs on Greenfield Testnet, you can interact with Greenfield, and start your decentralized data journey.",source:"@site/docs/guide/getting-started/interact-with-greenfield.md",sourceDirName:"guide/getting-started",slug:"/guide/getting-started/interact-with-greenfield",permalink:"/bnbgreenfield/docs/guide/getting-started/interact-with-greenfield",draft:!1,editUrl:"https://github.com/RumeelHussainbnb/bnbgreenfield/docs/guide/getting-started/interact-with-greenfield.md",tags:[],version:"current",frontMatter:{title:"Interact with Greenfield",order:4},sidebar:"guideSidebar",previous:{title:"Getting Test BNB",permalink:"/bnbgreenfield/docs/guide/getting-started/get-test-bnb"},next:{title:"Accounts",permalink:"/bnbgreenfield/docs/guide/concept/accounts"}},l={},s=[{value:"DCellar",id:"dcellar",level:2},{value:"Greenfield Command",id:"greenfield-command",level:2},{value:"Command Tool Guide",id:"command-tool-guide",level:3},{value:"Basic Operations",id:"basic-operations",level:3},{value:"Generate the keystore file",id:"generate-the-keystore-file",level:3},{value:"List Storage providers",id:"list-storage-providers",level:4},{value:"Make Bucket",id:"make-bucket",level:4},{value:"Upload/Download Files",id:"uploaddownload-files",level:4},{value:"Group",id:"group",level:4},{value:"Permission",id:"permission",level:4},{value:"SDK",id:"sdk",level:2}],c={toc:s};function p(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"interact-with-greenfield"},"Interact with Greenfield"),(0,a.kt)("p",null,"With tBNBs on Greenfield Testnet, you can interact with Greenfield, and start your decentralized data journey."),(0,a.kt)("h2",{id:"dcellar"},"DCellar"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"http://dcellar.io"},"DCellar")," is a file management tool and an ultimate client for Greenfield, which is developed by\nour community member ",(0,a.kt)("a",{parentName:"p",href:"https://nodereal.io/"},"Nodereal"),". With DCellar, you can store and manage your files in a\ndecentralized way, fully control your data, and even make profits out of them. Meanwhile, you can also use DCellar to\nmanage your account, balance, and billings."),(0,a.kt)("h2",{id:"greenfield-command"},"Greenfield Command"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/bnb-chain/greenfield-cmd"},"Greenfield Command")," is a powerful command line to interact with Greenfield,\nby which you can manage your resources on Greenfield. "),(0,a.kt)("h3",{id:"command-tool-guide"},"Command Tool Guide"),(0,a.kt)("p",null,'This command tool supports basic storage functions, including creating buckets, uploading and downloading files, and deleting resources. It also supports related operations such as groups, permissions, banks, and cross-chain. To make the command display clearer, commands of different categories are implemented as subcommands of different categories. You can use "gnfd-cmd -h" to view the supported command categories.'),(0,a.kt)("p",null,'The command should run with "-c filePath" to load the config file. The config should be in TOML format (default: "config.toml"). The configuration file includes three parts of information: rpcAddr, chainId, and passwordFile.'),(0,a.kt)("p",null,"Below is an example of the config file. The rpcAddr and chainId should be consistent with the Greenfield network.\nFor Greenfield Testnet, you can refer to ",(0,a.kt)("a",{parentName:"p",href:"https://greenfield.bnbchain.org/docs/guide/resources.html#rpc-endpoints"},"Greenfield Testnet RPC Endpoints"),".\nThe rpcAddr indicates the Tendermint RPC address with the port info.\nThe configuration for passwordFile is the path to the file containing the password required to generate the keystore or parse the keystore.\nThe content of the keystore is the encrypted private key information, and the passwordFile is used for encrypting/decrypting the private key."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'rpcAddr = "https://gnfd-testnet-fullnode-tendermint-us.bnbchain.org:443"\nchainId = "greenfield_5600-1"\npasswordFile = "password.txt"\n')),(0,a.kt)("p",null,'The command has the ability to intelligently select the correct storage provider to respond to the request. The user only needs to set the storage provider operator-address if they want to create a bucket on a specific SP. For example, the user can run "gnfd-cmd storage put test gnfd://bucket1/object1" to upload a file to bucket1 and then run "gnfd-cmd storage put test gnfd://bucket2/object" to upload a file to bucket2, which is stored on another SP without changing the config.'),(0,a.kt)("h3",{id:"basic-operations"},"Basic Operations"),(0,a.kt)("h3",{id:"generate-the-keystore-file"},"Generate the keystore file"),(0,a.kt)("p",null,"Before using the rich features of the command tool, you need to generate a keystore file by following the steps below."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Export your private key from MetaMask and write it into a local file as plaintext."),(0,a.kt)("li",{parentName:"ol"},'Set a random string as your password in password file. The file path should be the same as the "passwordFile" field in the config file.'),(0,a.kt)("li",{parentName:"ol"},'Generate a keystore by the "gen-key" command. The "--privKeyFile" flag is used to set the private key file path, which is created by step 1. The following command can be used to generate a keystore file called key.json:')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"gnfd-cmd create-keystore --privKeyFile key.txt key.json\n")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Delete the private key file which is created in step 1. It is not needed after the keystore has been generated.")),(0,a.kt)("p",null,'After the keystore file is generated, other commands need to be run with the addition of "-k keystore-path".\nThe default keystore file is "key.json". When executing commands with "-k keystore-file", the private key content will be fetched from the keystore in a safe way.'),(0,a.kt)("h4",{id:"list-storage-providers"},"List Storage providers"),(0,a.kt)("p",null,"Before making a bucket and uploading files, we need to select a storage provider to store the files in the bucket. By executing the following command, we can obtain a list of storage providers on Greenfield."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"gnfd-cmd sp ls\n")),(0,a.kt)("p",null,'And the Users can obtain detailed information about a certain SP by "sp head" and "sp get-price" commands.\nHere is an example of obtaining information about an SP with endpoint ',(0,a.kt)("a",{parentName:"p",href:"https://gnfd-testnet-sp-1.nodereal.io"},"https://gnfd-testnet-sp-1.nodereal.io"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"// get storage provider info\ngnfd-cmd sp head  https://gnfd-testnet-sp-1.nodereal.io\n\n// get quota and storage price of storage provider:\ngnfd-cmd sp get-price https://gnfd-testnet-sp-1.nodereal.io\n")),(0,a.kt)("p",null,"You can take note of the operator-address information for the storage provider to which is intended to be uploaded. This parameter will be required for making the bucket in the next step."),(0,a.kt)("h4",{id:"make-bucket"},"Make Bucket"),(0,a.kt)("p",null,'You can run "./gnfd-cmd bucket -h " to get help of the bucket operations.'),(0,a.kt)("p",null,"The below command can be used to create a new bucket called testbucket:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"gnfd-cmd bucket create gnfd://testbucket\n")),(0,a.kt)("p",null,'The command supports "-primarySP" flag to select the storage provider on which you want to create a bucket. The content of the flag should be the operator address of the storage provider. If this value is not set, the first SP in the storage provider list will be selected as the upload target by default.'),(0,a.kt)("p",null,'The user can update the bucket meta by the "bucket update" command. It supports updating bucket visibility, charged quota, or payment address.'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"// update bucket charged quota \ngnfd-cmd bucket update --chargedQuota 50000 gnfd://testbucket\n// update bucket visibility\ngnfd-cmd bucket update --visibility=public-read gnfd://testbucket\n")),(0,a.kt)("h4",{id:"uploaddownload-files"},"Upload/Download Files"),(0,a.kt)("p",null,"(1) put Object"),(0,a.kt)("p",null,"The user can upload the local file to the bucket by the \"object put\" command. The following command example uploads an object named 'testobject' to the 'testbucket' bucket. The file payload for the upload is read from the local file indicated by 'file-path'."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'gnfd-cmd object put --contentType "text/xml" file-path gnfd://testbucket/testobject\n')),(0,a.kt)("p",null,"If the object name has not been set, the command will use the file name as object name. After the command is executed, it will send createObject txn to the chain and uploads the payload of the object to the storage provider.\nThe command will return the uploading info after the object have been sealed."),(0,a.kt)("p",null,"(2) download object"),(0,a.kt)("p",null,"The user can download the object into the local file by the \"object get\" command. The following command example downloads 'testobject' from 'testbucket' to the local 'file-path' and prints the length of the downloaded file.\nThe filepath can be a specific file path, a directory path, or not set at all. If the file-path is not set, the command will download the content to a file with the same name as the object name in the current directory."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"gnfd-cmd object get gnfd://testbucket/testobject file-path\n")),(0,a.kt)("p",null,"After the command is executed, it will send a download request to the storage provider and download the object."),(0,a.kt)("h4",{id:"group"},"Group"),(0,a.kt)("p",null,'Users can run "./gnfd-cmd group -h " to get help of group operations.'),(0,a.kt)("p",null,'The user can create a new group by the "group create" command. Note that this command can set the initialized group member through the --initMembers parameter. After the command executes successfully, the group ID and transaction hash information will be returned.'),(0,a.kt)("p",null,"You can add or remove members from a group using the \"group update\" command. The user can use '--addMembers' to specify the addresses of the members to be added or '--removeMembers' to specify the addresses of the members to be removed."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"// create group\ngnfd-cmd group create gnfd://testGroup\n// update member\ngnfd-cmd group update --groupOwner 0x.. --addMembers 0x.. gnfd://testGroup\n")),(0,a.kt)("h4",{id:"permission"},"Permission"),(0,a.kt)("p",null,'Users can run "./gnfd-cmd policy -h " to get help of permission operations.'),(0,a.kt)("p",null,'Users can use the "put-obj-policy" command to assign object permissions to other accounts or groups (called principal), such as the permission to delete objects. After the command executes successfully, the object policy information of the principal will be returned. The principal is set by --groupId which indicates the group or --grantee which indicates the account.'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"gnfd-cmd policy put-obj-policy --groupId 11 --actions get,delete gnfd://testbucket/testobject\n")),(0,a.kt)("p",null,"Users can use the 'put-bucket-policy' command to assign bucket permissions to other accounts or groups, such as the permission to update the bucket. After the command executes successfully, the bucket policy information of the principal will be returned."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"gnfd-cmd policy put-bucket-policy --grantee 0x.. --actions delete gnfd://testbucket\n")),(0,a.kt)("p",null,"In addition to the basic commands mentioned above, the Greenfield Command also supports functions such as transferring tokens and cross-chain operations. You can find more examples in the readme file of ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/bnb-chain/greenfield-cmd"},"Greenfield Command"),"."),(0,a.kt)("h2",{id:"sdk"},"SDK"),(0,a.kt)("p",null,"If you are a developer, you can build your projects and interact with Greenfield base on SDK, here are several\nresources you can refer to:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/bnb-chain/greenfield-go-sdk"},"Greenfield Go SDK")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/bnb-chain/greenfield-js-sdk"},"Greenfield JS SDK")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"/bnbgreenfield/docs/guide/dapp/overview"},"Build DApps"))))}p.isMDXComponent=!0}}]);